var LichessFlatpickr=function(){"use strict";const e=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],t={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:e=>"undefined"!=typeof console&&console.warn(e),getWeek:e=>{const t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},n={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:e=>{const t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},a=(e,t=2)=>`000${e}`.slice(-1*t),o=e=>!0===e?1:0;function i(e,t){let n;return function(){clearTimeout(n),n=setTimeout((()=>e.apply(this,arguments)),t)}}const r=e=>e instanceof Array?e:[e];function l(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function c(e,t,n){const a=window.document.createElement(e);return t=t||"",n=n||"",a.className=t,void 0!==n&&(a.textContent=n),a}function s(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function d(e,t){return t(e)?e:e.parentNode?d(e.parentNode,t):void 0}function u(e,t){const n=c("div","numInputWrapper"),a=c("input","numInput "+e),o=c("span","arrowUp"),i=c("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?a.type="number":(a.type="text",a.pattern="\\d*"),void 0!==t)for(const e in t)a.setAttribute(e,t[e]);return n.appendChild(a),n.appendChild(o),n.appendChild(i),n}function f(e){try{if("function"==typeof e.composedPath){return e.composedPath()[0]}return e.target}catch(t){return e.target}}const m=()=>{},g=(e,t,n)=>n.months[t?"shorthand":"longhand"][e],p={D:m,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:(e,t)=>{e.setHours(parseFloat(t))},H:(e,t)=>{e.setHours(parseFloat(t))},J:(e,t)=>{e.setDate(parseFloat(t))},K:(e,t,n)=>{e.setHours(e.getHours()%12+12*o(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:(e,t)=>{e.setSeconds(parseFloat(t))},U:(e,t)=>new Date(1e3*parseFloat(t)),W:function(e,t,n){const a=parseInt(t),o=new Date(e.getFullYear(),0,2+7*(a-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+n.firstDayOfWeek),o},Y:(e,t)=>{e.setFullYear(parseFloat(t))},Z:(e,t)=>new Date(t),d:(e,t)=>{e.setDate(parseFloat(t))},h:(e,t)=>{e.setHours(parseFloat(t))},i:(e,t)=>{e.setMinutes(parseFloat(t))},j:(e,t)=>{e.setDate(parseFloat(t))},l:m,m:(e,t)=>{e.setMonth(parseFloat(t)-1)},n:(e,t)=>{e.setMonth(parseFloat(t)-1)},s:(e,t)=>{e.setSeconds(parseFloat(t))},u:(e,t)=>new Date(parseFloat(t)),w:m,y:(e,t)=>{e.setFullYear(2e3+parseFloat(t))}},h={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},D={Z:e=>e.toISOString(),D:function(e,t,n){return t.weekdays.shorthand[D.w(e,t,n)]},F:function(e,t,n){return g(D.n(e,t,n)-1,!1,t)},G:function(e,t,n){return a(D.h(e,t,n))},H:e=>a(e.getHours()),J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:(e,t)=>t.amPM[o(e.getHours()>11)],M:function(e,t){return g(e.getMonth(),!0,t)},S:e=>a(e.getSeconds()),U:e=>e.getTime()/1e3,W:function(e,t,n){return n.getWeek(e)},Y:e=>a(e.getFullYear(),4),d:e=>a(e.getDate()),h:e=>e.getHours()%12?e.getHours()%12:12,i:e=>a(e.getMinutes()),j:e=>e.getDate(),l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:e=>a(e.getMonth()+1),n:e=>e.getMonth()+1,s:e=>e.getSeconds(),u:e=>e.getTime(),w:e=>e.getDay(),y:e=>String(e.getFullYear()).substring(2)},v=({config:e=t,l10n:a=n,isMobile:o=!1})=>(t,n,i)=>{const r=i||a;return void 0===e.formatDate||o?n.split("").map(((n,a,o)=>D[n]&&"\\"!==o[a-1]?D[n](t,r,e):"\\"!==n?n:"")).join(""):e.formatDate(t,n,r)},b=({config:e=t,l10n:a=n})=>(n,o,i,r)=>{if(0!==n&&!n)return;const l=r||a;let c;const s=n;if(n instanceof Date)c=new Date(n.getTime());else if("string"!=typeof n&&void 0!==n.toFixed)c=new Date(n);else if("string"==typeof n){const a=o||(e||t).dateFormat,r=String(n).trim();if("today"===r)c=new Date,i=!0;else if(/Z$/.test(r)||/GMT$/.test(r))c=new Date(n);else if(e&&e.parseDate)c=e.parseDate(n,a);else{c=e&&e.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);let t,o=[];for(let e=0,i=0,r="";e<a.length;e++){const s=a[e],d="\\"===s,u="\\"===a[e-1]||d;if(h[s]&&!u){r+=h[s];const e=new RegExp(r).exec(n);e&&(t=!0)&&o["Y"!==s?"push":"unshift"]({fn:p[s],val:e[++i]})}else d||(r+=".");o.forEach((({fn:e,val:t})=>c=e(c,t,l)||c))}c=t?c:void 0}}if(c instanceof Date&&!isNaN(c.getTime()))return!0===i&&c.setHours(0,0,0,0),c;e.errorHandler(new Error(`Invalid date provided: ${s}`))};function w(e,t,n=!0){return!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}const C=864e5;function M(e){let t=e.defaultHour,n=e.defaultMinute,a=e.defaultSeconds;if(void 0!==e.minDate){const o=e.minDate.getHours(),i=e.minDate.getMinutes(),r=e.minDate.getSeconds();t<o&&(t=o),t===o&&n<i&&(n=i),t===o&&n===i&&a<r&&(a=e.minDate.getSeconds())}if(void 0!==e.maxDate){const o=e.maxDate.getHours(),i=e.maxDate.getMinutes();t=Math.min(t,o),t===o&&(n=Math.min(i,n)),t===o&&n===i&&(a=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:a}}"function"!=typeof Object.assign&&(Object.assign=function(e,...t){if(!e)throw TypeError("Cannot convert undefined or null to object");for(const n of t)n&&Object.keys(n).forEach((t=>e[t]=n[t]));return e});function y(m,p){const D={config:Object.assign(Object.assign({},t),E.defaultConfig),l10n:n};function y(e){return e.bind(D)}function x(){const e=D.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==D.calendarContainer&&(D.calendarContainer.style.visibility="hidden",D.calendarContainer.style.display="block"),void 0!==D.daysContainer){const t=(D.days.offsetWidth+1)*e.showMonths;D.daysContainer.style.width=t+"px",D.calendarContainer.style.width=t+(void 0!==D.weekWrapper?D.weekWrapper.offsetWidth:0)+"px",D.calendarContainer.style.removeProperty("visibility"),D.calendarContainer.style.removeProperty("display")}}))}function k(e){if(0===D.selectedDates.length){const e=void 0===D.config.minDate||w(new Date,D.config.minDate)>=0?new Date:new Date(D.config.minDate.getTime()),t=M(D.config);e.setHours(t.hours,t.minutes,t.seconds,e.getMilliseconds()),D.selectedDates=[e],D.latestSelectedDateObj=e}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();const t="keydown"===e.type,n=f(e),i=n;void 0!==D.amPM&&n===D.amPM&&(D.amPM.textContent=D.l10n.amPM[o(D.amPM.textContent===D.l10n.amPM[0])]);const r=parseFloat(i.getAttribute("min")),l=parseFloat(i.getAttribute("max")),c=parseFloat(i.getAttribute("step")),s=parseInt(i.value,10),d=e.delta||(t?38===e.which?1:-1:0);let u=s+c*d;if(void 0!==i.value&&2===i.value.length){const e=i===D.hourElement,t=i===D.minuteElement;u<r?(u=l+u+o(!e)+(o(e)&&o(!D.amPM)),t&&P(void 0,-1,D.hourElement)):u>l&&(u=i===D.hourElement?u-l-o(!D.amPM):r,t&&P(void 0,1,D.hourElement)),D.amPM&&e&&(1===c?u+s===23:Math.abs(u-s)>c)&&(D.amPM.textContent=D.l10n.amPM[o(D.amPM.textContent===D.l10n.amPM[0])]),i.value=a(u)}}(e);const t=D._input.value;T(),ve(),D._input.value!==t&&D._debouncedChange()}function T(){if(void 0===D.hourElement||void 0===D.minuteElement)return;let e=(parseInt(D.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(D.minuteElement.value,10)||0)%60,n=void 0!==D.secondElement?(parseInt(D.secondElement.value,10)||0)%60:0;var a,i;void 0!==D.amPM&&(a=e,i=D.amPM.textContent,e=a%12+12*o(i===D.l10n.amPM[1]));const r=void 0!==D.config.minTime||D.config.minDate&&D.minDateHasTime&&D.latestSelectedDateObj&&0===w(D.latestSelectedDateObj,D.config.minDate,!0);if(void 0!==D.config.maxTime||D.config.maxDate&&D.maxDateHasTime&&D.latestSelectedDateObj&&0===w(D.latestSelectedDateObj,D.config.maxDate,!0)){const a=void 0!==D.config.maxTime?D.config.maxTime:D.config.maxDate;e=Math.min(e,a.getHours()),e===a.getHours()&&(t=Math.min(t,a.getMinutes())),t===a.getMinutes()&&(n=Math.min(n,a.getSeconds()))}if(r){const a=void 0!==D.config.minTime?D.config.minTime:D.config.minDate;e=Math.max(e,a.getHours()),e===a.getHours()&&t<a.getMinutes()&&(t=a.getMinutes()),t===a.getMinutes()&&(n=Math.max(n,a.getSeconds()))}I(e,t,n)}function O(e){const t=e||D.latestSelectedDateObj;t&&I(t.getHours(),t.getMinutes(),t.getSeconds())}function I(e,t,n){void 0!==D.latestSelectedDateObj&&D.latestSelectedDateObj.setHours(e%24,t,n||0,0),D.hourElement&&D.minuteElement&&!D.isMobile&&(D.hourElement.value=a(D.config.time_24hr?e:(12+e)%12+12*o(e%12==0)),D.minuteElement.value=a(t),void 0!==D.amPM&&(D.amPM.textContent=D.l10n.amPM[o(e>=12)]),void 0!==D.secondElement&&(D.secondElement.value=a(n)))}function S(e){const t=f(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&G(n)}function _(e,t,n,a){return t instanceof Array?t.forEach((t=>_(e,t,n,a))):e instanceof Array?e.forEach((e=>_(e,t,n,a))):(e.addEventListener(t,n,a),void D._handlers.push({remove:()=>e.removeEventListener(t,n)}))}function F(){me("onChange")}function N(e,t){const n=void 0!==e?D.parseDate(e):D.latestSelectedDateObj||(D.config.minDate&&D.config.minDate>D.now?D.config.minDate:D.config.maxDate&&D.config.maxDate<D.now?D.config.maxDate:D.now),a=D.currentYear,o=D.currentMonth;try{void 0!==n&&(D.currentYear=n.getFullYear(),D.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,D.config.errorHandler(e)}t&&D.currentYear!==a&&(me("onYearChange"),R()),!t||D.currentYear===a&&D.currentMonth===o||me("onMonthChange"),D.redraw()}function A(e){const t=f(e);~t.className.indexOf("arrow")&&P(e,t.classList.contains("arrowUp")?1:-1)}function P(e,t,n){const a=e&&f(e),o=n||a&&a.parentNode&&a.parentNode.firstChild,i=ge("increment");i.delta=t,o&&o.dispatchEvent(i)}function Y(e,t,n,a){const o=V(t,!0),i=c("span","flatpickr-day "+e,t.getDate().toString());return i.dateObj=t,i.$i=a,i.setAttribute("aria-label",D.formatDate(t,D.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===w(t,D.now)&&(D.todayDateElem=i,i.classList.add("today"),i.setAttribute("aria-current","date")),o?(i.tabIndex=-1,pe(t)&&(i.classList.add("selected"),D.selectedDateElem=i,"range"===D.config.mode&&(l(i,"startRange",D.selectedDates[0]&&0===w(t,D.selectedDates[0],!0)),l(i,"endRange",D.selectedDates[1]&&0===w(t,D.selectedDates[1],!0)),"nextMonthDay"===e&&i.classList.add("inRange")))):i.classList.add("flatpickr-disabled"),"range"===D.config.mode&&function(e){return!("range"!==D.config.mode||D.selectedDates.length<2)&&(w(e,D.selectedDates[0])>=0&&w(e,D.selectedDates[1])<=0)}(t)&&!pe(t)&&i.classList.add("inRange"),D.weekNumbers&&1===D.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&D.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+D.config.getWeek(t)+"</span>"),me("onDayCreate",i),i}function j(e){e.focus(),"range"===D.config.mode&&te(e)}function H(e){const t=e>0?0:D.config.showMonths-1,n=e>0?D.config.showMonths:-1;for(let a=t;a!=n;a+=e){const t=D.daysContainer.children[a],n=e>0?0:t.children.length-1,o=e>0?t.children.length:-1;for(let a=n;a!=o;a+=e){const e=t.children[a];if(-1===e.className.indexOf("hidden")&&V(e.dateObj))return e}}}function L(e,t){const n=Q(document.activeElement||document.body),a=void 0!==e?e:n?document.activeElement:void 0!==D.selectedDateElem&&Q(D.selectedDateElem)?D.selectedDateElem:void 0!==D.todayDateElem&&Q(D.todayDateElem)?D.todayDateElem:H(t>0?1:-1);void 0===a?D._input.focus():n?function(e,t){const n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():D.currentMonth,a=t>0?D.config.showMonths:-1,o=t>0?1:-1;for(let i=n-D.currentMonth;i!=a;i+=o){const a=D.daysContainer.children[i],r=n-D.currentMonth===i?e.$i+t:t<0?a.children.length-1:0,l=a.children.length;for(let n=r;n>=0&&n<l&&n!=(t>0?l:-1);n+=o){const o=a.children[n];if(-1===o.className.indexOf("hidden")&&V(o.dateObj)&&Math.abs(e.$i-n)>=Math.abs(t))return j(o)}}D.changeMonth(o),L(H(o),0)}(a,t):j(a)}function $(e,t){const n=(new Date(e,t,1).getDay()-D.l10n.firstDayOfWeek+7)%7,a=D.utils.getDaysInMonth((t-1+12)%12,e),o=D.utils.getDaysInMonth(t,e),i=window.document.createDocumentFragment(),r=D.config.showMonths>1,l=r?"prevMonthDay hidden":"prevMonthDay",s=r?"nextMonthDay hidden":"nextMonthDay";let d=a+1-n,u=0;for(;d<=a;d++,u++)i.appendChild(Y(l,new Date(e,t-1,d),d,u));for(d=1;d<=o;d++,u++)i.appendChild(Y("",new Date(e,t,d),d,u));for(let a=o+1;a<=42-n&&(1===D.config.showMonths||u%7!=0);a++,u++)i.appendChild(Y(s,new Date(e,t+1,a%o),a,u));const f=c("div","dayContainer");return f.appendChild(i),f}function W(){if(void 0===D.daysContainer)return;s(D.daysContainer),D.weekNumbers&&s(D.weekNumbers);const e=document.createDocumentFragment();for(let t=0;t<D.config.showMonths;t++){const n=new Date(D.currentYear,D.currentMonth,1);n.setMonth(D.currentMonth+t),e.appendChild($(n.getFullYear(),n.getMonth()))}D.daysContainer.appendChild(e),D.days=D.daysContainer.firstChild,"range"===D.config.mode&&1===D.selectedDates.length&&te()}function R(){if(D.config.showMonths>1||"dropdown"!==D.config.monthSelectorType)return;const e=function(e){return!(void 0!==D.config.minDate&&D.currentYear===D.config.minDate.getFullYear()&&e<D.config.minDate.getMonth())&&!(void 0!==D.config.maxDate&&D.currentYear===D.config.maxDate.getFullYear()&&e>D.config.maxDate.getMonth())};D.monthsDropdownContainer.tabIndex=-1,D.monthsDropdownContainer.innerHTML="";for(let t=0;t<12;t++){if(!e(t))continue;const n=c("option","flatpickr-monthDropdown-month");n.value=new Date(D.currentYear,t).getMonth().toString(),n.textContent=g(t,D.config.shorthandCurrentMonth,D.l10n),n.tabIndex=-1,D.currentMonth===t&&(n.selected=!0),D.monthsDropdownContainer.appendChild(n)}}function B(){const e=c("div","flatpickr-month"),t=window.document.createDocumentFragment();let n;D.config.showMonths>1||"static"===D.config.monthSelectorType?n=c("span","cur-month"):(D.monthsDropdownContainer=c("select","flatpickr-monthDropdown-months"),D.monthsDropdownContainer.setAttribute("aria-label",D.l10n.monthAriaLabel),_(D.monthsDropdownContainer,"change",(e=>{const t=f(e),n=parseInt(t.value,10);D.changeMonth(n-D.currentMonth),me("onMonthChange")})),R(),n=D.monthsDropdownContainer);const a=u("cur-year",{tabindex:"-1"}),o=a.getElementsByTagName("input")[0];o.setAttribute("aria-label",D.l10n.yearAriaLabel),D.config.minDate&&o.setAttribute("min",D.config.minDate.getFullYear().toString()),D.config.maxDate&&(o.setAttribute("max",D.config.maxDate.getFullYear().toString()),o.disabled=!!D.config.minDate&&D.config.minDate.getFullYear()===D.config.maxDate.getFullYear());const i=c("div","flatpickr-current-month");return i.appendChild(n),i.appendChild(a),t.appendChild(i),e.appendChild(t),{container:e,yearElement:o,monthElement:n}}function K(){s(D.monthNav),D.monthNav.appendChild(D.prevMonthNav),D.config.showMonths&&(D.yearElements=[],D.monthElements=[]);for(let e=D.config.showMonths;e--;){const e=B();D.yearElements.push(e.yearElement),D.monthElements.push(e.monthElement),D.monthNav.appendChild(e.container)}D.monthNav.appendChild(D.nextMonthNav)}function J(){D.weekdayContainer?s(D.weekdayContainer):D.weekdayContainer=c("div","flatpickr-weekdays");for(let e=D.config.showMonths;e--;){const e=c("div","flatpickr-weekdaycontainer");D.weekdayContainer.appendChild(e)}return U(),D.weekdayContainer}function U(){if(!D.weekdayContainer)return;const e=D.l10n.firstDayOfWeek;let t=[...D.l10n.weekdays.shorthand];e>0&&e<t.length&&(t=[...t.splice(e,t.length),...t.splice(0,e)]);for(let e=D.config.showMonths;e--;)D.weekdayContainer.children[e].innerHTML=`\n      <span class='flatpickr-weekday'>\n        ${t.join("</span><span class='flatpickr-weekday'>")}\n      </span>\n      `}function q(e,t=!0){const n=t?e:e-D.currentMonth;n<0&&!0===D._hidePrevMonthArrow||n>0&&!0===D._hideNextMonthArrow||(D.currentMonth+=n,(D.currentMonth<0||D.currentMonth>11)&&(D.currentYear+=D.currentMonth>11?1:-1,D.currentMonth=(D.currentMonth+12)%12,me("onYearChange"),R()),W(),me("onMonthChange"),he())}function Z(e){return!(!D.config.appendTo||!D.config.appendTo.contains(e))||D.calendarContainer.contains(e)}function z(e){if(D.isOpen&&!D.config.inline){const t=f(e),n=Z(t),a=t===D.input||t===D.altInput||D.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(D.input)||~e.path.indexOf(D.altInput)),o="blur"===e.type?a&&e.relatedTarget&&!Z(e.relatedTarget):!a&&!n&&!Z(e.relatedTarget),i=!D.config.ignoredFocusElements.some((e=>e.contains(t)));o&&i&&(void 0!==D.timeContainer&&void 0!==D.minuteElement&&void 0!==D.hourElement&&""!==D.input.value&&void 0!==D.input.value&&k(),D.close(),D.config&&"range"===D.config.mode&&1===D.selectedDates.length&&(D.clear(!1),D.redraw()))}}function G(e){if(!e||D.config.minDate&&e<D.config.minDate.getFullYear()||D.config.maxDate&&e>D.config.maxDate.getFullYear())return;const t=e,n=D.currentYear!==t;D.currentYear=t||D.currentYear,D.config.maxDate&&D.currentYear===D.config.maxDate.getFullYear()?D.currentMonth=Math.min(D.config.maxDate.getMonth(),D.currentMonth):D.config.minDate&&D.currentYear===D.config.minDate.getFullYear()&&(D.currentMonth=Math.max(D.config.minDate.getMonth(),D.currentMonth)),n&&(D.redraw(),me("onYearChange"),R())}function V(e,t=!0){var n;const a=D.parseDate(e,void 0,t);if(D.config.minDate&&a&&w(a,D.config.minDate,void 0!==t?t:!D.minDateHasTime)<0||D.config.maxDate&&a&&w(a,D.config.maxDate,void 0!==t?t:!D.maxDateHasTime)>0)return!1;if(!D.config.enable&&0===D.config.disable.length)return!0;if(void 0===a)return!1;const o=!!D.config.enable,i=null!==(n=D.config.enable)&&void 0!==n?n:D.config.disable;for(let e,t=0;t<i.length;t++){if(e=i[t],"function"==typeof e&&e(a))return o;if(e instanceof Date&&void 0!==a&&e.getTime()===a.getTime())return o;if("string"==typeof e){const t=D.parseDate(e,void 0,!0);return t&&t.getTime()===a.getTime()?o:!o}if("object"==typeof e&&void 0!==a&&e.from&&e.to&&a.getTime()>=e.from.getTime()&&a.getTime()<=e.to.getTime())return o}return!o}function Q(e){return void 0!==D.daysContainer&&(-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&D.daysContainer.contains(e))}function X(e){!(e.target===D._input)||!(D.selectedDates.length>0||D._input.value.length>0)||e.relatedTarget&&Z(e.relatedTarget)||D.setDate(D._input.value,!0,e.target===D.altInput?D.config.altFormat:D.config.dateFormat)}function ee(e){const t=f(e),n=D.config.wrap?m.contains(t):t===D._input,a=D.config.allowInput,o=D.isOpen&&(!a||!n),i=D.config.inline&&n&&!a;if(13===e.keyCode&&n){if(a)return D.setDate(D._input.value,!0,t===D.altInput?D.config.altFormat:D.config.dateFormat),t.blur();D.open()}else if(Z(t)||o||i){const o=!!D.timeContainer&&D.timeContainer.contains(t);switch(e.keyCode){case 13:o?(e.preventDefault(),k(),ce()):se(e);break;case 27:e.preventDefault(),ce();break;case 8:case 46:n&&!D.config.allowInput&&(e.preventDefault(),D.clear());break;case 37:case 39:if(o||n)D.hourElement&&D.hourElement.focus();else if(e.preventDefault(),void 0!==D.daysContainer&&(!1===a||document.activeElement&&Q(document.activeElement))){const t=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),q(t),L(H(1),0)):L(void 0,t)}break;case 38:case 40:e.preventDefault();const i=40===e.keyCode?1:-1;D.daysContainer&&void 0!==t.$i||t===D.input||t===D.altInput?e.ctrlKey?(e.stopPropagation(),G(D.currentYear-i),L(H(1),0)):o||L(void 0,7*i):t===D.currentYearElement?G(D.currentYear-i):D.config.enableTime&&(!o&&D.hourElement&&D.hourElement.focus(),k(e),D._debouncedChange());break;case 9:if(o){const n=[D.hourElement,D.minuteElement,D.secondElement,D.amPM].concat(D.pluginElements).filter((e=>e)),a=n.indexOf(t);if(-1!==a){const t=n[a+(e.shiftKey?-1:1)];e.preventDefault(),(t||D._input).focus()}}else!D.config.noCalendar&&D.daysContainer&&D.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),D._input.focus())}}if(void 0!==D.amPM&&t===D.amPM)switch(e.key){case D.l10n.amPM[0].charAt(0):case D.l10n.amPM[0].charAt(0).toLowerCase():D.amPM.textContent=D.l10n.amPM[0],T(),ve();break;case D.l10n.amPM[1].charAt(0):case D.l10n.amPM[1].charAt(0).toLowerCase():D.amPM.textContent=D.l10n.amPM[1],T(),ve()}(n||Z(t))&&me("onKeyDown",e)}function te(e){if(1!==D.selectedDates.length||e&&(!e.classList.contains("flatpickr-day")||e.classList.contains("flatpickr-disabled")))return;const t=e?e.dateObj.getTime():D.days.firstElementChild.dateObj.getTime(),n=D.parseDate(D.selectedDates[0],void 0,!0).getTime(),a=Math.min(t,D.selectedDates[0].getTime()),o=Math.max(t,D.selectedDates[0].getTime());let i=!1,r=0,l=0;for(let e=a;e<o;e+=C)V(new Date(e),!0)||(i=i||e>a&&e<o,e<n&&(!r||e>r)?r=e:e>n&&(!l||e<l)&&(l=e));for(let a=0;a<D.config.showMonths;a++){const o=D.daysContainer.children[a];for(let a=0,u=o.children.length;a<u;a++){const u=o.children[a],f=u.dateObj.getTime(),m=r>0&&f<r||l>0&&f>l;m?(u.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((e=>{u.classList.remove(e)}))):i&&!m||(["startRange","inRange","endRange","notAllowed"].forEach((e=>{u.classList.remove(e)})),void 0!==e&&(e.classList.add(t<=D.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&f===n?u.classList.add("startRange"):n>t&&f===n&&u.classList.add("endRange"),f>=r&&(0===l||f<=l)&&(s=n,d=t,(c=f)>Math.min(s,d)&&c<Math.max(s,d))&&u.classList.add("inRange")))}}var c,s,d}function ne(){!D.isOpen||D.config.static||D.config.inline||re()}function ae(e){return t=>{const n=D.config[`_${e}Date`]=D.parseDate(t,D.config.dateFormat),a=D.config[`_${"min"===e?"max":"min"}Date`];void 0!==n&&(D["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),D.selectedDates&&(D.selectedDates=D.selectedDates.filter((e=>V(e))),D.selectedDates.length||"min"!==e||O(n),ve()),D.daysContainer&&(le(),void 0!==n?D.currentYearElement[e]=n.getFullYear().toString():D.currentYearElement.removeAttribute(e),D.currentYearElement.disabled=!!a&&void 0!==n&&a.getFullYear()===n.getFullYear())}}function oe(){return D.config.wrap?m.querySelector("[data-input]"):m}function ie(){"object"!=typeof D.config.locale&&void 0===E.l10ns[D.config.locale]&&D.config.errorHandler(new Error(`flatpickr: invalid locale ${D.config.locale}`)),D.l10n=Object.assign(Object.assign({},E.l10ns.default),"object"==typeof D.config.locale?D.config.locale:"default"!==D.config.locale?E.l10ns[D.config.locale]:void 0),h.K=`(${D.l10n.amPM[0]}|${D.l10n.amPM[1]}|${D.l10n.amPM[0].toLowerCase()}|${D.l10n.amPM[1].toLowerCase()})`;void 0===Object.assign(Object.assign({},p),JSON.parse(JSON.stringify(m.dataset||{}))).time_24hr&&void 0===E.defaultConfig.time_24hr&&(D.config.time_24hr=D.l10n.time_24hr),D.formatDate=v(D),D.parseDate=b({config:D.config,l10n:D.l10n})}function re(e){if("function"==typeof D.config.position)return void D.config.position(D,e);if(void 0===D.calendarContainer)return;me("onPreCalendarPosition");const t=e||D._positionElement,n=Array.prototype.reduce.call(D.calendarContainer.children,((e,t)=>e+t.offsetHeight),0),a=D.calendarContainer.offsetWidth,o=D.config.position.split(" "),i=o[0],r=o.length>1?o[1]:null,c=t.getBoundingClientRect(),s=window.innerHeight-c.bottom,d="above"===i||"below"!==i&&s<n&&c.top>n,u=window.pageYOffset+c.top+(d?-n-2:t.offsetHeight+2);if(l(D.calendarContainer,"arrowTop",!d),l(D.calendarContainer,"arrowBottom",d),D.config.inline)return;let f=window.pageXOffset+c.left,m=!1,g=!1;"center"===r?(f-=(a-c.width)/2,m=!0):"right"===r&&(f-=a-c.width,g=!0),l(D.calendarContainer,"arrowLeft",!m&&!g),l(D.calendarContainer,"arrowCenter",m),l(D.calendarContainer,"arrowRight",g);const p=window.document.body.offsetWidth-(window.pageXOffset+c.right),h=f+a>window.document.body.offsetWidth,v=p+a>window.document.body.offsetWidth;if(l(D.calendarContainer,"rightMost",h),!D.config.static)if(D.calendarContainer.style.top=`${u}px`,h)if(v){const e=function(){let e=null;for(let t=0;t<document.styleSheets.length;t++){const n=document.styleSheets[t];try{n.cssRules}catch(e){continue}e=n;break}return null!=e?e:function(){const e=document.createElement("style");return document.head.appendChild(e),e.sheet}()}();if(void 0===e)return;const t=window.document.body.offsetWidth,n=Math.max(0,t/2-a/2),o=".flatpickr-calendar.centerMost:before",i=".flatpickr-calendar.centerMost:after",r=e.cssRules.length,s=`{left:${c.left}px;right:auto;}`;l(D.calendarContainer,"rightMost",!1),l(D.calendarContainer,"centerMost",!0),e.insertRule(`${o},${i}${s}`,r),D.calendarContainer.style.left=`${n}px`,D.calendarContainer.style.right="auto"}else D.calendarContainer.style.left="auto",D.calendarContainer.style.right=`${p}px`;else D.calendarContainer.style.left=`${f}px`,D.calendarContainer.style.right="auto"}function le(){D.config.noCalendar||D.isMobile||(R(),he(),W())}function ce(){D._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(D.close,0):D.close()}function se(e){e.preventDefault(),e.stopPropagation();const t=d(f(e),(e=>e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")));if(void 0===t)return;const n=t,a=D.latestSelectedDateObj=new Date(n.dateObj.getTime()),o=(a.getMonth()<D.currentMonth||a.getMonth()>D.currentMonth+D.config.showMonths-1)&&"range"!==D.config.mode;if(D.selectedDateElem=n,"single"===D.config.mode)D.selectedDates=[a];else if("multiple"===D.config.mode){const e=pe(a);e?D.selectedDates.splice(parseInt(e),1):D.selectedDates.push(a)}else"range"===D.config.mode&&(2===D.selectedDates.length&&D.clear(!1,!1),D.latestSelectedDateObj=a,D.selectedDates.push(a),0!==w(a,D.selectedDates[0],!0)&&D.selectedDates.sort(((e,t)=>e.getTime()-t.getTime())));if(T(),o){const e=D.currentYear!==a.getFullYear();D.currentYear=a.getFullYear(),D.currentMonth=a.getMonth(),e&&(me("onYearChange"),R()),me("onMonthChange")}if(he(),W(),ve(),o||"range"===D.config.mode||1!==D.config.showMonths?void 0!==D.selectedDateElem&&void 0===D.hourElement&&D.selectedDateElem&&D.selectedDateElem.focus():j(n),void 0!==D.hourElement&&void 0!==D.hourElement&&D.hourElement.focus(),D.config.closeOnSelect){const e="single"===D.config.mode&&!D.config.enableTime,t="range"===D.config.mode&&2===D.selectedDates.length&&!D.config.enableTime;(e||t)&&ce()}F()}D.parseDate=b({config:D.config,l10n:D.l10n}),D._handlers=[],D.pluginElements=[],D.loadedPlugins=[],D._bind=_,D._setHoursFromDate=O,D._positionCalendar=re,D.changeMonth=q,D.changeYear=G,D.clear=function(e=!0,t=!0){D.input.value="",void 0!==D.altInput&&(D.altInput.value="");void 0!==D.mobileInput&&(D.mobileInput.value="");D.selectedDates=[],D.latestSelectedDateObj=void 0,!0===t&&(D.currentYear=D._initialDate.getFullYear(),D.currentMonth=D._initialDate.getMonth());if(!0===D.config.enableTime){const{hours:e,minutes:t,seconds:n}=M(D.config);I(e,t,n)}D.redraw(),e&&me("onChange")},D.close=function(){D.isOpen=!1,D.isMobile||(void 0!==D.calendarContainer&&D.calendarContainer.classList.remove("open"),void 0!==D._input&&D._input.classList.remove("active"));me("onClose")},D._createElement=c,D.destroy=function(){void 0!==D.config&&me("onDestroy");for(let e=D._handlers.length;e--;)D._handlers[e].remove();if(D._handlers=[],D.mobileInput)D.mobileInput.parentNode&&D.mobileInput.parentNode.removeChild(D.mobileInput),D.mobileInput=void 0;else if(D.calendarContainer&&D.calendarContainer.parentNode)if(D.config.static&&D.calendarContainer.parentNode){const e=D.calendarContainer.parentNode;if(e.lastChild&&e.removeChild(e.lastChild),e.parentNode){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}}else D.calendarContainer.parentNode.removeChild(D.calendarContainer);D.altInput&&(D.input.type="text",D.altInput.parentNode&&D.altInput.parentNode.removeChild(D.altInput),delete D.altInput);D.input&&(D.input.type=D.input._type,D.input.classList.remove("flatpickr-input"),D.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((e=>{try{delete D[e]}catch(e){}}))},D.isEnabled=V,D.jumpToDate=N,D.open=function(e,t=D._positionElement){if(!0===D.isMobile){if(e){e.preventDefault();const t=f(e);t&&t.blur()}return void 0!==D.mobileInput&&(D.mobileInput.focus(),D.mobileInput.click()),void me("onOpen")}if(D._input.disabled||D.config.inline)return;const n=D.isOpen;D.isOpen=!0,n||(D.calendarContainer.classList.add("open"),D._input.classList.add("active"),me("onOpen"),re(t));!0===D.config.enableTime&&!0===D.config.noCalendar&&(!1!==D.config.allowInput||void 0!==e&&D.timeContainer.contains(e.relatedTarget)||setTimeout((()=>D.hourElement.select()),50))},D.redraw=le,D.set=function(t,n){if(null!==t&&"object"==typeof t){Object.assign(D.config,t);for(const e in t)void 0!==de[e]&&de[e].forEach((e=>e()))}else D.config[t]=n,void 0!==de[t]?de[t].forEach((e=>e())):e.indexOf(t)>-1&&(D.config[t]=r(n));D.redraw(),ve(!0)},D.setDate=function(e,t=!1,n=D.config.dateFormat){if(0!==e&&!e||e instanceof Array&&0===e.length)return D.clear(t);ue(e,n),D.latestSelectedDateObj=D.selectedDates[D.selectedDates.length-1],D.redraw(),N(void 0,t),O(),0===D.selectedDates.length&&D.clear(!1);ve(t),t&&me("onChange")},D.toggle=function(e){if(!0===D.isOpen)return D.close();D.open(e)};const de={locale:[ie,U],showMonths:[K,x,J],minDate:[N],maxDate:[N],clickOpens:[()=>{!0===D.config.clickOpens?(_(D._input,"focus",D.open),_(D._input,"click",D.open)):(D._input.removeEventListener("focus",D.open),D._input.removeEventListener("click",D.open))}]};function ue(e,t){let n=[];if(e instanceof Array)n=e.map((e=>D.parseDate(e,t)));else if(e instanceof Date||"number"==typeof e)n=[D.parseDate(e,t)];else if("string"==typeof e)switch(D.config.mode){case"single":case"time":n=[D.parseDate(e,t)];break;case"multiple":n=e.split(D.config.conjunction).map((e=>D.parseDate(e,t)));break;case"range":n=e.split(D.l10n.rangeSeparator).map((e=>D.parseDate(e,t)))}else D.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(e)}`));D.selectedDates=D.config.allowInvalidPreload?n:n.filter((e=>e instanceof Date&&V(e,!1))),"range"===D.config.mode&&D.selectedDates.sort(((e,t)=>e.getTime()-t.getTime()))}function fe(e){return e.slice().map((e=>"string"==typeof e||"number"==typeof e||e instanceof Date?D.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:D.parseDate(e.from,void 0),to:D.parseDate(e.to,void 0)}:e)).filter((e=>e))}function me(e,t){if(void 0===D.config)return;const n=D.config[e];if(void 0!==n&&n.length>0)for(let e=0;n[e]&&e<n.length;e++)n[e](D.selectedDates,D.input.value,D,t);"onChange"===e&&(D.input.dispatchEvent(ge("change")),D.input.dispatchEvent(ge("input")))}function ge(e){const t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function pe(e){for(let t=0;t<D.selectedDates.length;t++)if(0===w(D.selectedDates[t],e))return""+t;return!1}function he(){D.config.noCalendar||D.isMobile||!D.monthNav||(D.yearElements.forEach(((e,t)=>{const n=new Date(D.currentYear,D.currentMonth,1);n.setMonth(D.currentMonth+t),D.config.showMonths>1||"static"===D.config.monthSelectorType?D.monthElements[t].textContent=g(n.getMonth(),D.config.shorthandCurrentMonth,D.l10n)+" ":D.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),D._hidePrevMonthArrow=void 0!==D.config.minDate&&(D.currentYear===D.config.minDate.getFullYear()?D.currentMonth<=D.config.minDate.getMonth():D.currentYear<D.config.minDate.getFullYear()),D._hideNextMonthArrow=void 0!==D.config.maxDate&&(D.currentYear===D.config.maxDate.getFullYear()?D.currentMonth+1>D.config.maxDate.getMonth():D.currentYear>D.config.maxDate.getFullYear()))}function De(e){return D.selectedDates.map((t=>D.formatDate(t,e))).filter(((e,t,n)=>"range"!==D.config.mode||D.config.enableTime||n.indexOf(e)===t)).join("range"!==D.config.mode?D.config.conjunction:D.l10n.rangeSeparator)}function ve(e=!0){void 0!==D.mobileInput&&D.mobileFormatStr&&(D.mobileInput.value=void 0!==D.latestSelectedDateObj?D.formatDate(D.latestSelectedDateObj,D.mobileFormatStr):""),D.input.value=De(D.config.dateFormat),void 0!==D.altInput&&(D.altInput.value=De(D.config.altFormat)),!1!==e&&me("onValueUpdate")}function be(e){const t=f(e),n=D.prevMonthNav.contains(t),a=D.nextMonthNav.contains(t);n||a?q(n?-1:1):D.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?D.changeYear(D.currentYear+1):t.classList.contains("arrowDown")&&D.changeYear(D.currentYear-1)}return function(){D.element=D.input=m,D.isOpen=!1,function(){const n=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=Object.assign(Object.assign({},JSON.parse(JSON.stringify(m.dataset||{}))),p),o={};D.config.parseDate=a.parseDate,D.config.formatDate=a.formatDate,Object.defineProperty(D.config,"enable",{get:()=>D.config._enable,set:e=>{D.config._enable=fe(e)}}),Object.defineProperty(D.config,"disable",{get:()=>D.config._disable,set:e=>{D.config._disable=fe(e)}});const i="time"===a.mode;if(!a.dateFormat&&(a.enableTime||i)){const e=E.defaultConfig.dateFormat||t.dateFormat;o.dateFormat=a.noCalendar||i?"H:i"+(a.enableSeconds?":S":""):e+" H:i"+(a.enableSeconds?":S":"")}if(a.altInput&&(a.enableTime||i)&&!a.altFormat){const e=E.defaultConfig.altFormat||t.altFormat;o.altFormat=a.noCalendar||i?"h:i"+(a.enableSeconds?":S K":" K"):e+` h:i${a.enableSeconds?":S":""} K`}Object.defineProperty(D.config,"minDate",{get:()=>D.config._minDate,set:ae("min")}),Object.defineProperty(D.config,"maxDate",{get:()=>D.config._maxDate,set:ae("max")});const l=e=>t=>{D.config["min"===e?"_minTime":"_maxTime"]=D.parseDate(t,"H:i:S")};Object.defineProperty(D.config,"minTime",{get:()=>D.config._minTime,set:l("min")}),Object.defineProperty(D.config,"maxTime",{get:()=>D.config._maxTime,set:l("max")}),"time"===a.mode&&(D.config.noCalendar=!0,D.config.enableTime=!0);Object.assign(D.config,o,a);for(let e=0;e<n.length;e++)D.config[n[e]]=!0===D.config[n[e]]||"true"===D.config[n[e]];e.filter((e=>void 0!==D.config[e])).forEach((e=>{D.config[e]=r(D.config[e]||[]).map(y)})),D.isMobile=!D.config.disableMobile&&!D.config.inline&&"single"===D.config.mode&&!D.config.disable.length&&!D.config.enable&&!D.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(let t=0;t<D.config.plugins.length;t++){const n=D.config.plugins[t](D)||{};for(const t in n)e.indexOf(t)>-1?D.config[t]=r(n[t]).map(y).concat(D.config[t]):void 0===a[t]&&(D.config[t]=n[t])}a.altInputClass||(D.config.altInputClass=oe().className+" "+D.config.altInputClass);me("onParseConfig")}(),ie(),function(){if(D.input=oe(),!D.input)return void D.config.errorHandler(new Error("Invalid input element specified"));D.input._type=D.input.type,D.input.type="text",D.input.classList.add("flatpickr-input"),D._input=D.input,D.config.altInput&&(D.altInput=c(D.input.nodeName,D.config.altInputClass),D._input=D.altInput,D.altInput.placeholder=D.input.placeholder,D.altInput.disabled=D.input.disabled,D.altInput.required=D.input.required,D.altInput.tabIndex=D.input.tabIndex,D.altInput.type="text",D.input.setAttribute("type","hidden"),!D.config.static&&D.input.parentNode&&D.input.parentNode.insertBefore(D.altInput,D.input.nextSibling));D.config.allowInput||D._input.setAttribute("readonly","readonly");D._positionElement=D.config.positionElement||D._input}(),function(){D.selectedDates=[],D.now=D.parseDate(D.config.now)||new Date;const e=D.config.defaultDate||("INPUT"!==D.input.nodeName&&"TEXTAREA"!==D.input.nodeName||!D.input.placeholder||D.input.value!==D.input.placeholder?D.input.value:null);e&&ue(e,D.config.dateFormat);D._initialDate=D.selectedDates.length>0?D.selectedDates[0]:D.config.minDate&&D.config.minDate.getTime()>D.now.getTime()?D.config.minDate:D.config.maxDate&&D.config.maxDate.getTime()<D.now.getTime()?D.config.maxDate:D.now,D.currentYear=D._initialDate.getFullYear(),D.currentMonth=D._initialDate.getMonth(),D.selectedDates.length>0&&(D.latestSelectedDateObj=D.selectedDates[0]);void 0!==D.config.minTime&&(D.config.minTime=D.parseDate(D.config.minTime,"H:i"));void 0!==D.config.maxTime&&(D.config.maxTime=D.parseDate(D.config.maxTime,"H:i"));D.minDateHasTime=!!D.config.minDate&&(D.config.minDate.getHours()>0||D.config.minDate.getMinutes()>0||D.config.minDate.getSeconds()>0),D.maxDateHasTime=!!D.config.maxDate&&(D.config.maxDate.getHours()>0||D.config.maxDate.getMinutes()>0||D.config.maxDate.getSeconds()>0)}(),D.utils={getDaysInMonth:(e=D.currentMonth,t=D.currentYear)=>1===e&&(t%4==0&&t%100!=0||t%400==0)?29:D.l10n.daysInMonth[e]},D.isMobile||function(){const e=window.document.createDocumentFragment();if(D.calendarContainer=c("div","flatpickr-calendar"),D.calendarContainer.tabIndex=-1,!D.config.noCalendar){if(e.appendChild((D.monthNav=c("div","flatpickr-months"),D.yearElements=[],D.monthElements=[],D.prevMonthNav=c("span","flatpickr-prev-month"),D.prevMonthNav.innerHTML=D.config.prevArrow,D.nextMonthNav=c("span","flatpickr-next-month"),D.nextMonthNav.innerHTML=D.config.nextArrow,K(),Object.defineProperty(D,"_hidePrevMonthArrow",{get:()=>D.__hidePrevMonthArrow,set(e){D.__hidePrevMonthArrow!==e&&(l(D.prevMonthNav,"flatpickr-disabled",e),D.__hidePrevMonthArrow=e)}}),Object.defineProperty(D,"_hideNextMonthArrow",{get:()=>D.__hideNextMonthArrow,set(e){D.__hideNextMonthArrow!==e&&(l(D.nextMonthNav,"flatpickr-disabled",e),D.__hideNextMonthArrow=e)}}),D.currentYearElement=D.yearElements[0],he(),D.monthNav)),D.innerContainer=c("div","flatpickr-innerContainer"),D.config.weekNumbers){const{weekWrapper:e,weekNumbers:t}=function(){D.calendarContainer.classList.add("hasWeeks");const e=c("div","flatpickr-weekwrapper");e.appendChild(c("span","flatpickr-weekday",D.l10n.weekAbbreviation));const t=c("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}();D.innerContainer.appendChild(e),D.weekNumbers=t,D.weekWrapper=e}D.rContainer=c("div","flatpickr-rContainer"),D.rContainer.appendChild(J()),D.daysContainer||(D.daysContainer=c("div","flatpickr-days"),D.daysContainer.tabIndex=-1),W(),D.rContainer.appendChild(D.daysContainer),D.innerContainer.appendChild(D.rContainer),e.appendChild(D.innerContainer)}D.config.enableTime&&e.appendChild(function(){D.calendarContainer.classList.add("hasTime"),D.config.noCalendar&&D.calendarContainer.classList.add("noCalendar");const e=M(D.config);D.timeContainer=c("div","flatpickr-time"),D.timeContainer.tabIndex=-1;const t=c("span","flatpickr-time-separator",":"),n=u("flatpickr-hour",{"aria-label":D.l10n.hourAriaLabel});D.hourElement=n.getElementsByTagName("input")[0];const i=u("flatpickr-minute",{"aria-label":D.l10n.minuteAriaLabel});D.minuteElement=i.getElementsByTagName("input")[0],D.hourElement.tabIndex=D.minuteElement.tabIndex=-1,D.hourElement.value=a(D.latestSelectedDateObj?D.latestSelectedDateObj.getHours():D.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),D.minuteElement.value=a(D.latestSelectedDateObj?D.latestSelectedDateObj.getMinutes():e.minutes),D.hourElement.setAttribute("step",D.config.hourIncrement.toString()),D.minuteElement.setAttribute("step",D.config.minuteIncrement.toString()),D.hourElement.setAttribute("min",D.config.time_24hr?"0":"1"),D.hourElement.setAttribute("max",D.config.time_24hr?"23":"12"),D.hourElement.setAttribute("maxlength","2"),D.minuteElement.setAttribute("min","0"),D.minuteElement.setAttribute("max","59"),D.minuteElement.setAttribute("maxlength","2"),D.timeContainer.appendChild(n),D.timeContainer.appendChild(t),D.timeContainer.appendChild(i),D.config.time_24hr&&D.timeContainer.classList.add("time24hr");if(D.config.enableSeconds){D.timeContainer.classList.add("hasSeconds");const t=u("flatpickr-second");D.secondElement=t.getElementsByTagName("input")[0],D.secondElement.value=a(D.latestSelectedDateObj?D.latestSelectedDateObj.getSeconds():e.seconds),D.secondElement.setAttribute("step",D.minuteElement.getAttribute("step")),D.secondElement.setAttribute("min","0"),D.secondElement.setAttribute("max","59"),D.secondElement.setAttribute("maxlength","2"),D.timeContainer.appendChild(c("span","flatpickr-time-separator",":")),D.timeContainer.appendChild(t)}D.config.time_24hr||(D.amPM=c("span","flatpickr-am-pm",D.l10n.amPM[o((D.latestSelectedDateObj?D.hourElement.value:D.config.defaultHour)>11)]),D.amPM.title=D.l10n.toggleTitle,D.amPM.tabIndex=-1,D.timeContainer.appendChild(D.amPM));return D.timeContainer}());l(D.calendarContainer,"rangeMode","range"===D.config.mode),l(D.calendarContainer,"animate",!0===D.config.animate),l(D.calendarContainer,"multiMonth",D.config.showMonths>1),D.calendarContainer.appendChild(e);const t=void 0!==D.config.appendTo&&void 0!==D.config.appendTo.nodeType;if((D.config.inline||D.config.static)&&(D.calendarContainer.classList.add(D.config.inline?"inline":"static"),D.config.inline&&(!t&&D.element.parentNode?D.element.parentNode.insertBefore(D.calendarContainer,D._input.nextSibling):void 0!==D.config.appendTo&&D.config.appendTo.appendChild(D.calendarContainer)),D.config.static)){const e=c("div","flatpickr-wrapper");D.element.parentNode&&D.element.parentNode.insertBefore(e,D.element),e.appendChild(D.element),D.altInput&&e.appendChild(D.altInput),e.appendChild(D.calendarContainer)}D.config.static||D.config.inline||(void 0!==D.config.appendTo?D.config.appendTo:window.document.body).appendChild(D.calendarContainer)}(),function(){D.config.wrap&&["open","close","toggle","clear"].forEach((e=>{Array.prototype.forEach.call(D.element.querySelectorAll(`[data-${e}]`),(t=>_(t,"click",D[e])))}));if(D.isMobile)return void function(){const e=D.config.enableTime?D.config.noCalendar?"time":"datetime-local":"date";D.mobileInput=c("input",D.input.className+" flatpickr-mobile"),D.mobileInput.tabIndex=1,D.mobileInput.type=e,D.mobileInput.disabled=D.input.disabled,D.mobileInput.required=D.input.required,D.mobileInput.placeholder=D.input.placeholder,D.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",D.selectedDates.length>0&&(D.mobileInput.defaultValue=D.mobileInput.value=D.formatDate(D.selectedDates[0],D.mobileFormatStr));D.config.minDate&&(D.mobileInput.min=D.formatDate(D.config.minDate,"Y-m-d"));D.config.maxDate&&(D.mobileInput.max=D.formatDate(D.config.maxDate,"Y-m-d"));D.input.getAttribute("step")&&(D.mobileInput.step=String(D.input.getAttribute("step")));D.input.type="hidden",void 0!==D.altInput&&(D.altInput.type="hidden");try{D.input.parentNode&&D.input.parentNode.insertBefore(D.mobileInput,D.input.nextSibling)}catch(e){}_(D.mobileInput,"change",(e=>{D.setDate(f(e).value,!1,D.mobileFormatStr),me("onChange"),me("onClose")}))}();const e=i(ne,50);D._debouncedChange=i(F,300),D.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&_(D.daysContainer,"mouseover",(e=>{"range"===D.config.mode&&te(f(e))}));_(window.document.body,"keydown",ee),D.config.inline||D.config.static||_(window,"resize",e);void 0!==window.ontouchstart?_(window.document,"touchstart",z):_(window.document,"mousedown",z);_(window.document,"focus",z,{capture:!0}),!0===D.config.clickOpens&&(_(D._input,"focus",D.open),_(D._input,"click",D.open));void 0!==D.daysContainer&&(_(D.monthNav,"click",be),_(D.monthNav,["keyup","increment"],S),_(D.daysContainer,"click",se));if(void 0!==D.timeContainer&&void 0!==D.minuteElement&&void 0!==D.hourElement){const e=e=>f(e).select();_(D.timeContainer,["increment"],k),_(D.timeContainer,"blur",k,{capture:!0}),_(D.timeContainer,"click",A),_([D.hourElement,D.minuteElement],["focus","click"],e),void 0!==D.secondElement&&_(D.secondElement,"focus",(()=>D.secondElement&&D.secondElement.select())),void 0!==D.amPM&&_(D.amPM,"click",(e=>{k(e),F()}))}D.config.allowInput&&_(D._input,"blur",X)}(),(D.selectedDates.length||D.config.noCalendar)&&(D.config.enableTime&&O(D.config.noCalendar?D.latestSelectedDateObj:void 0),ve(!1)),x();const n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!D.isMobile&&n&&re(),me("onReady")}(),D}function x(e,t){const n=Array.prototype.slice.call(e).filter((e=>e instanceof HTMLElement)),a=[];for(let e=0;e<n.length;e++){const o=n[e];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=y(o,t||{}),a.push(o._flatpickr)}catch(e){console.error(e)}}return 1===a.length?a[0]:a}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return x(this,e)},HTMLElement.prototype.flatpickr=function(e){return x([this],e)});var E=function(e,t){return"string"==typeof e?x(window.document.querySelectorAll(e),t):e instanceof Node?x([e],t):x(e,t)};return E.defaultConfig={},E.l10ns={en:Object.assign({},n),default:Object.assign({},n)},E.localize=e=>{E.l10ns.default=Object.assign(Object.assign({},E.l10ns.default),e)},E.setDefaults=e=>{E.defaultConfig=Object.assign(Object.assign({},E.defaultConfig),e)},E.parseDate=b({}),E.formatDate=v({}),E.compareDates=w,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return x(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=E),lichess.load.then((()=>{$(".flatpickr").each((function(){const e=this.classList.contains("flatpickr-utc")?{}:{dateFormat:"Z",altInput:!0,altFormat:"Y-m-d h:i K"};E(this,Object.assign({minDate:"today",maxDate:new Date(Date.now()+80352e5),monthSelectorType:"static",disableMobile:!0},e))}))})),E}();
